/* Базовые стили для всех анимаций */
/* ААААА НИЧЕГО НЕ РАБОТАЕТ */
.sniptype-particle,
.sniptype-leaf,
.sniptype-sparkle {
  position: absolute;
  pointer-events: none;
  z-index: 999999;
  opacity: 0;
}

/* Анимация конфетти с гравитацией */
.sniptype-particle {
  width: 8px;
  height: 8px;
  border-radius: 2px;
  transform: translate(-50%, -50%) rotate(0deg);
}

.sniptype-particle.animate {
  animation: confettiFall 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes confettiFall {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) translate(0, 0) rotate(0deg);
  }
  20% {
    opacity: 1;
    transform: translate(-50%, -50%) translate(var(--tx), calc(var(--ty) * 0.3)) rotate(calc(var(--rotation) * 0.2));
  }
  40% {
    transform: translate(-50%, -50%) translate(calc(var(--tx) * 0.95), calc(var(--ty) * 0.6)) rotate(calc(var(--rotation) * 0.5));
  }
  60% {
    transform: translate(-50%, -50%) translate(calc(var(--tx) * 0.98), calc(var(--ty) * 0.85)) rotate(calc(var(--rotation) * 0.75));
  }
  80% {
    opacity: 0.8;
    transform: translate(-50%, -50%) translate(var(--tx), calc(var(--ty) * 1.1)) rotate(var(--rotation));
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) translate(var(--tx), calc(var(--ty) * 1.3)) rotate(calc(var(--rotation) * 1.2));
  }
}

/* Анимация падающих листьев с реалистичным движением */
.sniptype-leaf {
  font-size: 20px;
  transform: translate(-50%, -50%) rotate(0deg);
}

.sniptype-leaf.animate {
  animation: leafFall 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes leafFall {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) translate(0, 0) rotate(0deg);
  }
  15% {
    transform: translate(-50%, -50%) translate(calc(var(--swing) * 0.3), calc(var(--ty) * 0.1)) rotate(calc(var(--rotation) * 0.2));
  }
  30% {
    transform: translate(-50%, -50%) translate(calc(var(--swing) * -0.2), calc(var(--ty) * 0.25)) rotate(calc(var(--rotation) * 0.4));
  }
  45% {
    transform: translate(-50%, -50%) translate(calc(var(--swing) * 0.4), calc(var(--ty) * 0.45)) rotate(calc(var(--rotation) * 0.6));
  }
  60% {
    transform: translate(-50%, -50%) translate(calc(var(--swing) * -0.3), calc(var(--ty) * 0.65)) rotate(calc(var(--rotation) * 0.75));
  }
  75% {
    opacity: 0.9;
    transform: translate(-50%, -50%) translate(calc(var(--swing) * 0.2), calc(var(--ty) * 0.85)) rotate(calc(var(--rotation) * 0.9));
  }
  90% {
    opacity: 0.6;
    transform: translate(-50%, -50%) translate(var(--swing), calc(var(--ty) * 1.05)) rotate(var(--rotation));
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) translate(var(--swing), calc(var(--ty) * 1.2)) rotate(calc(var(--rotation) * 1.1));
  }
}

/* Анимация искр с притяжением */
.sniptype-sparkle {
  font-size: 16px;
  transform: translate(-50%, -50%) scale(0.5);
}

.sniptype-sparkle.animate {
  animation: sparkleBurst 1s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes sparkleBurst {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) translate(0, 0) scale(0.5);
    filter: brightness(1.5);
  }
  30% {
    opacity: 1;
    transform: translate(-50%, -50%) translate(calc(var(--tx) * 0.8), calc(var(--ty) * 0.5)) scale(1.3);
    filter: brightness(2);
  }
  60% {
    opacity: 1;
    transform: translate(-50%, -50%) translate(calc(var(--tx) * 0.95), calc(var(--ty) * 0.85)) scale(1.1);
    filter: brightness(1.8);
  }
  80% {
    opacity: 0.7;
    transform: translate(-50%, -50%) translate(var(--tx), calc(var(--ty) * 1.1)) scale(0.9);
    filter: brightness(1.2);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) translate(var(--tx), calc(var(--ty) * 1.3)) scale(0.5);
    filter: brightness(1);
  }
}

/* Убедимся, что анимации не мешают взаимодействию */
.sniptype-particle *,
.sniptype-leaf *,
.sniptype-sparkle * {
  pointer-events: none;
}
